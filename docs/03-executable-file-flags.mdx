---
slug: /executable-file-flags
---

# Executable file flags

## gateway

```bash
cargo run --bin gateway-server -- --help
```


```bash
Peace Gateway Service

Usage: gateway-server.exe [OPTIONS] [COMMAND]

Commands:
  run
          Start service
  create-config
          Create default configuration file
  help
          Print this message or the help of the given subcommand(s)

Options:
  -c, --config <PATH>
          Configuration file path (Support `.yml`, `.json`, `toml`)

          [default: config.json]

      --save-as-config
          Save the current parameters as a configuration file

  -L, --log-level <LOG_LEVEL>
          Logging level

          [default: info]

          Possible values:
          - off:   Designates that trace instrumentation should be completely disabled
          - error: Designates very serious errors
          - warn:  Designates hazardous situations
          - info:  Designates useful information
          - debug: Designates lower priority information
          - trace: Designates very low priority, often extremely verbose, information

  -F, --log-env-filter <LOG_ENV_FILTER>
          Logging env filter

  -d, --debug
          Turning on debug will display information such as code line number, source file, thread id, etc

  -H, --http-addr <HTTP_ADDR>
          The address and port the `http` server listens on

          [default: 127.0.0.1:8000]

  -S, --https-addr <HTTPS_ADDR>
          The address and port the `https` server listens on

          [default: 127.0.0.1:443]

  -t, --tls
          Enabled `tls` support

  -C, --ssl-cert <SSL_CERT>
          SSL certificate path

  -K, --ssl-key <SSL_KEY>
          SSL certificate key path

  -A, --admin-endpoints
          Enabled admin api

  -a, --admin-token <ADMIN_TOKEN>
          Admin api `Authorization` `bearer` token

      --concurrency-limit <CONCURRENCY_LIMIT>
          Limit the max number of in-flight requests

          [default: 1024]

  -r, --req-timeout <REQ_TIMEOUT>
          Fail requests that take longer than timeout (secs)

          [default: 10]

  -N, --hostname-routing
          Enabled `hostname-based` routing

  -f, --force-https
          Redirect http to https

      --tcp-nodelay
          Set the value of TCP_NODELAY option for accepted connections

      --tcp-sleep-on-accept-errors
          Set whether to sleep on accept errors, to avoid exhausting file descriptor limits

      --tcp-keepalive <TCP_KEEPALIVE>
          Set how often to send TCP keepalive probes. By default TCP keepalive probes is disabled

      --tcp-keepalive-interval <TCP_KEEPALIVE_INTERVAL>
          Set the duration between two successive TCP keepalive retransmissions, if acknowledgement to the previous keepalive transmission is not received

      --tcp-keepalive-retries <TCP_KEEPALIVE_RETRIES>
          Set the number of retransmissions to be carried out before declaring that remote end is not available

      --swagger-path <SWAGGER_PATH>
          The `swagger ui` base uri path

          [default: /swagger-ui/]

      --openapi-json <OPENAPI_JSON>
          The `openapi.json` uri path

          [default: /api-doc/openapi.json]

      --bancho-rpc-uri <BANCHO_RPC_URI>
          Service uri

          [default: http://127.0.0.1:50051]

      --bancho-rpc-uds <BANCHO_RPC_UDS>
          Service unix domain socket path. Only for unix systems.

          `uds` will be preferred over `uri`.

      --bancho-rpc-tls
          Enable `tls` connection

      --bancho-rpc-ssl-cert <BANCHO_RPC_SSL_CERT>
          SSL certificate path

      --bancho-rpc-lazy-connect
          Not attempt to connect to the endpoint until first use

      --bancho-state-rpc-uri <BANCHO_STATE_RPC_URI>
          Service uri

          [default: http://127.0.0.1:12345]

      --bancho-state-rpc-uds <BANCHO_STATE_RPC_UDS>
          Service unix domain socket path. Only for unix systems.

          `uds` will be preferred over `uri`.

      --bancho-state-rpc-tls
          Enable `tls` connection

      --bancho-state-rpc-ssl-cert <BANCHO_STATE_RPC_SSL_CERT>
          SSL certificate path

      --bancho-state-rpc-lazy-connect
          Not attempt to connect to the endpoint until first use

  -h, --help
          Print help information (use `-h` for a summary)

  -V, --version
          Print version information
```

---

## bancho

```bash
cargo run --bin bancho-server -- --help
```


```bash
Peace bancho logic service

Usage: bancho-server.exe [OPTIONS] [COMMAND]

Commands:
  run
          Start service
  create-config
          Create default configuration file
  help
          Print this message or the help of the given subcommand(s)

Options:
  -c, --config <PATH>
          Configuration file path (Support `.yml`, `.json`, `toml`)

          [default: config.json]

      --save-as-config
          Save the current parameters as a configuration file

  -L, --log-level <LOG_LEVEL>
          Logging level

          [default: info]

          Possible values:
          - off:   Designates that trace instrumentation should be completely disabled
          - error: Designates very serious errors
          - warn:  Designates hazardous situations
          - info:  Designates useful information
          - debug: Designates lower priority information
          - trace: Designates very low priority, often extremely verbose, information

  -F, --log-env-filter <LOG_ENV_FILTER>
          Logging env filter

  -d, --debug
          Turning on debug will display information such as code line number, source file, thread id, etc

  -H, --rpc-addr <RPC_ADDR>
          The address and port the `gRPC` server listens on

          [default: 127.0.0.1:50051]

      --rpc-uds <RPC_UDS>
          Using unix domain socket instead of TCP/IP socket. Only for unix systems.

          If configured, `uds` will be preferred over `addr`.

  -A, --rpc-admin-endpoints
          Enable admin rpc service

  -T, --rpc-admin-token <RPC_ADMIN_TOKEN>
          Admin rpc service `Authorization` `Bearer` token

  -R, --rpc-reflection
          Enable reflection service

  -r, --rpc-accept-http1
          Allow this server to accept http1 requests.

          Accepting http1 requests is only useful when developing grpc-web enabled services. If this setting is set to true but services are not correctly configured to handle grpc-web requests, your server may return confusing (but correct) protocol errors.

          Default is false.

      --rpc-concurrency-limit-per-connection <RPC_CONCURRENCY_LIMIT_PER_CONNECTION>
          Set the concurrency limit applied to on requests inbound per connection

      --rpc-http2-adaptive-window <RPC_HTTP2_ADAPTIVE_WINDOW>
          Sets whether to use an adaptive flow control. Defaults to false. Enabling this will override the limits set in http2_initial_stream_window_size and http2_initial_connection_window_size

          [possible values: true, false]

      --rpc-http2-keepalive-interval <RPC_HTTP2_KEEPALIVE_INTERVAL>
          Set whether HTTP2 Ping frames are enabled on accepted connections.

          If None is specified, HTTP2 keepalive is disabled, otherwise the duration specified will be the time interval between HTTP2 Ping frames. The timeout for receiving an acknowledgement of the keepalive ping can be set with Server::http2_keepalive_timeout.

          Default is no HTTP2 keepalive (None)

      --rpc-http2-keepalive-timeout <RPC_HTTP2_KEEPALIVE_TIMEOUT>
          Sets a timeout for receiving an acknowledgement of the keepalive ping.

          If the ping is not acknowledged within the timeout, the connection will be closed. Does nothing if http2_keep_alive_interval is disabled.

          Default is 20 seconds.

          [default: 20]

      --rpc-initial-connection-window-size <RPC_INITIAL_CONNECTION_WINDOW_SIZE>
          Sets the max connection-level flow control for HTTP2

          Default is 65,535

          [default: 65535]

      --rpc-initial-stream-window-size <RPC_INITIAL_STREAM_WINDOW_SIZE>
          Sets the SETTINGS_INITIAL_WINDOW_SIZE option for HTTP2 stream-level flow control.

          Default is 65,535

          [default: 65535]

      --rpc-max-concurrent-streams <RPC_MAX_CONCURRENT_STREAMS>
          Sets the SETTINGS_MAX_CONCURRENT_STREAMS option for HTTP2 connections.

          Default is no limit (None).

      --rpc-max-frame-size <RPC_MAX_FRAME_SIZE>
          Sets the maximum frame size to use for HTTP2.

          Passing None will do nothing.

          If not set, will default from underlying transport.

      --rpc-req-timeout <RPC_REQ_TIMEOUT>
          Set a timeout on for all request handlers

  -t, --tls
          Enabled `tls` support

  -C, --ssl-cert <SSL_CERT>
          SSL certificate path

  -K, --ssl-key <SSL_KEY>
          SSL certificate key path

      --rpc-tcp-nodelay
          Set the value of TCP_NODELAY option for accepted connections.

          Enabled by default.

      --rpc-tcp-keepalive <RPC_TCP_KEEPALIVE>
          Set how often to send TCP keepalive probes. By default TCP keepalive probes is disabled

      --peace-db-url <PEACE_DB_URL>
          Database connection URL

          [default: protocol://username:password@host/database]

      --peace-db-max-connections <PEACE_DB_MAX_CONNECTIONS>
          Set the maximum number of connections of the pool

      --peace-db-min-connections <PEACE_DB_MIN_CONNECTIONS>
          Set the minimum number of connections of the pool

      --peace-db-connect-timeout <PEACE_DB_CONNECT_TIMEOUT>
          Set the timeout duration when acquiring a connection

      --peace-db-acquire-timeout <PEACE_DB_ACQUIRE_TIMEOUT>
          Set the maximum amount of time to spend waiting for acquiring a connection

      --peace-db-idle-timeout <PEACE_DB_IDLE_TIMEOUT>
          Set the idle duration before closing a connection

      --peace-db-max-lifetime <PEACE_DB_MAX_LIFETIME>
          Set the maximum lifetime of individual connections

      --peace-db-sqlx-logging
          Enable SQLx statement logging (default true)

      --peace-db-sqlx-logging-level <PEACE_DB_SQLX_LOGGING_LEVEL>
          Set SQLx statement logging level (default [`LogLevel::Info`]) (ignored if `sqlx_logging` is false)

          [default: info]

          Possible values:
          - off:   Designates that trace instrumentation should be completely disabled
          - error: Designates very serious errors
          - warn:  Designates hazardous situations
          - info:  Designates useful information
          - debug: Designates lower priority information
          - trace: Designates very low priority, often extremely verbose, information

      --peace-db-set-schema-search-path <PEACE_DB_SET_SCHEMA_SEARCH_PATH>
          Set schema search path (PostgreSQL only)

      --bancho-state-rpc-uri <BANCHO_STATE_RPC_URI>
          Service uri

          [default: http://127.0.0.1:50051]

      --bancho-state-rpc-uds <BANCHO_STATE_RPC_UDS>
          Service unix domain socket path. Only for unix systems.

          `uds` will be preferred over `uri`.

      --bancho-state-rpc-tls
          Enable `tls` connection

      --bancho-state-rpc-ssl-cert <BANCHO_STATE_RPC_SSL_CERT>
          SSL certificate path

      --bancho-state-rpc-lazy-connect
          Not attempt to connect to the endpoint until first use

  -h, --help
          Print help information (use `-h` for a summary)

  -V, --version
          Print version information
```

---

## bancho-state

```bash
cargo run --bin bancho-state-server -- --help
```


```bash
Peace bancho state service

Usage: bancho-state-server.exe [OPTIONS] [COMMAND]

Commands:
  run
          Start service
  create-config
          Create default configuration file
  help
          Print this message or the help of the given subcommand(s)

Options:
  -c, --config <PATH>
          Configuration file path (Support `.yml`, `.json`, `toml`)

          [default: config.json]

      --save-as-config
          Save the current parameters as a configuration file

  -L, --log-level <LOG_LEVEL>
          Logging level

          [default: info]

          Possible values:
          - off:   Designates that trace instrumentation should be completely disabled
          - error: Designates very serious errors
          - warn:  Designates hazardous situations
          - info:  Designates useful information
          - debug: Designates lower priority information
          - trace: Designates very low priority, often extremely verbose, information

  -F, --log-env-filter <LOG_ENV_FILTER>
          Logging env filter

  -d, --debug
          Turning on debug will display information such as code line number, source file, thread id, etc

  -H, --rpc-addr <RPC_ADDR>
          The address and port the `gRPC` server listens on

          [default: 127.0.0.1:50051]

      --rpc-uds <RPC_UDS>
          Using unix domain socket instead of TCP/IP socket. Only for unix systems.

          If configured, `uds` will be preferred over `addr`.

  -A, --rpc-admin-endpoints
          Enable admin rpc service

  -T, --rpc-admin-token <RPC_ADMIN_TOKEN>
          Admin rpc service `Authorization` `Bearer` token

  -R, --rpc-reflection
          Enable reflection service

  -r, --rpc-accept-http1
          Allow this server to accept http1 requests.

          Accepting http1 requests is only useful when developing grpc-web enabled services. If this setting is set to true but services are not correctly configured to handle grpc-web requests, your server may return confusing (but correct) protocol errors.

          Default is false.

      --rpc-concurrency-limit-per-connection <RPC_CONCURRENCY_LIMIT_PER_CONNECTION>
          Set the concurrency limit applied to on requests inbound per connection

      --rpc-http2-adaptive-window <RPC_HTTP2_ADAPTIVE_WINDOW>
          Sets whether to use an adaptive flow control. Defaults to false. Enabling this will override the limits set in http2_initial_stream_window_size and http2_initial_connection_window_size

          [possible values: true, false]

      --rpc-http2-keepalive-interval <RPC_HTTP2_KEEPALIVE_INTERVAL>
          Set whether HTTP2 Ping frames are enabled on accepted connections.

          If None is specified, HTTP2 keepalive is disabled, otherwise the duration specified will be the time interval between HTTP2 Ping frames. The timeout for receiving an acknowledgement of the keepalive ping can be set with Server::http2_keepalive_timeout.

          Default is no HTTP2 keepalive (None)

      --rpc-http2-keepalive-timeout <RPC_HTTP2_KEEPALIVE_TIMEOUT>
          Sets a timeout for receiving an acknowledgement of the keepalive ping.

          If the ping is not acknowledged within the timeout, the connection will be closed. Does nothing if http2_keep_alive_interval is disabled.

          Default is 20 seconds.

          [default: 20]

      --rpc-initial-connection-window-size <RPC_INITIAL_CONNECTION_WINDOW_SIZE>
          Sets the max connection-level flow control for HTTP2

          Default is 65,535

          [default: 65535]

      --rpc-initial-stream-window-size <RPC_INITIAL_STREAM_WINDOW_SIZE>
          Sets the SETTINGS_INITIAL_WINDOW_SIZE option for HTTP2 stream-level flow control.

          Default is 65,535

          [default: 65535]

      --rpc-max-concurrent-streams <RPC_MAX_CONCURRENT_STREAMS>
          Sets the SETTINGS_MAX_CONCURRENT_STREAMS option for HTTP2 connections.

          Default is no limit (None).

      --rpc-max-frame-size <RPC_MAX_FRAME_SIZE>
          Sets the maximum frame size to use for HTTP2.

          Passing None will do nothing.

          If not set, will default from underlying transport.

      --rpc-req-timeout <RPC_REQ_TIMEOUT>
          Set a timeout on for all request handlers

  -t, --tls
          Enabled `tls` support

  -C, --ssl-cert <SSL_CERT>
          SSL certificate path

  -K, --ssl-key <SSL_KEY>
          SSL certificate key path

      --rpc-tcp-nodelay
          Set the value of TCP_NODELAY option for accepted connections.

          Enabled by default.

      --rpc-tcp-keepalive <RPC_TCP_KEEPALIVE>
          Set how often to send TCP keepalive probes. By default TCP keepalive probes is disabled

  -h, --help
          Print help information (use `-h` for a summary)

  -V, --version
          Print version information
```

---

## db-peace-migrate

```bash
cargo run --bin db-peace-migrate -- --help
```


```bash
USAGE:
    db-peace-migrate.exe [OPTIONS] [SUBCOMMAND]

OPTIONS:
    -h, --help
            Print help information

    -s, --database-schema <DATABASE_SCHEMA>
            Database schema
             - For MySQL and SQLite, this argument is ignored.
             - For PostgreSQL, this argument is optional with default value 'public'.
            [env: DATABASE_SCHEMA=]

    -u, --database-url <DATABASE_URL>
            Database URL

            [env: DATABASE_URL=]

    -v, --verbose
            Show debug messages

    -V, --version
            Print version information

SUBCOMMANDS:
    down
            Rollback applied migrations
    fresh
            Drop all tables from the database, then reapply all migrations
    generate
            Generate a new, empty migration
    help
            Print this message or the help of the given subcommand(s)
    init
            Initialize migration directory
    refresh
            Rollback all applied migrations, then reapply all migrations
    reset
            Rollback all applied migrations
    status
            Check the status of all migrations
    up
            Apply pending migrations
```

---

## db-cli

```bash
cargo run --bin db-cli -- --help
```


```bash
USAGE:
    db-cli.exe [OPTIONS] <SUBCOMMAND>

OPTIONS:
    -h, --help       Print help information
    -v, --verbose    Show debug messages
    -V, --version    Print version information

SUBCOMMANDS:
    generate    Codegen related commands
    help        Print this message or the help of the given subcommand(s)
    migrate     Migration related commands
```

## db-peace-cli

```bash
cargo run --bin db-peace-cli -- --help
```


```bash
Peace db CLI

Usage: db-peace-cli.exe [OPTIONS] <COMMAND>

Commands:
  create-user           [peace] Create a new user in database
  change-user-password  [peace] Change user's password
  help                  Print this message or the help of the given subcommand(s)

Options:
  -u, --database-url <DATABASE_URL>
  -h, --help                         Print help information
  -V, --version                      Print version information
```

